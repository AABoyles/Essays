<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Metabolyze</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.6/js/bootstrap.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
<script src="site_libs/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
<link href="site_libs/readthedown-0.1/readthedown.css" rel="stylesheet" />
<script src="site_libs/readthedown-0.1/readthedown.js"></script>
<script src="site_libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.7.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotlyjs-1.29.2/plotly-latest.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #ffffff; color: #1f1c1b; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #ffffff; color: #a0a0a0; border-right: 1px solid #a0a0a0; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #1f1c1b; background-color: #ffffff; }
code > span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code > span.dt { color: #0057ae; } /* DataType */
code > span.dv { color: #b08000; } /* DecVal */
code > span.bn { color: #b08000; } /* BaseN */
code > span.fl { color: #b08000; } /* Float */
code > span.cn { color: #aa5500; } /* Constant */
code > span.ch { color: #924c9d; } /* Char */
code > span.sc { color: #3daee9; } /* SpecialChar */
code > span.st { color: #bf0303; } /* String */
code > span.vs { color: #bf0303; } /* VerbatimString */
code > span.ss { color: #ff5500; } /* SpecialString */
code > span.im { color: #ff5500; } /* Import */
code > span.co { color: #898887; } /* Comment */
code > span.do { color: #607880; } /* Documentation */
code > span.an { color: #ca60ca; } /* Annotation */
code > span.cv { color: #0095ff; } /* CommentVar */
code > span.ot { color: #006e28; } /* Other */
code > span.fu { color: #644a9b; } /* Function */
code > span.va { color: #0057ae; } /* Variable */
code > span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code > span.op { color: #1f1c1b; } /* Operator */
code > span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code > span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code > span.pp { color: #006e28; } /* Preprocessor */
code > span.at { color: #0057ae; } /* Attribute */
code > span.re { color: #0057ae; } /* RegionMarker */
code > span.in { color: #b08000; } /* Information */
code > span.wa { color: #bf0303; } /* Warning */
code > span.al { color: #bf0303; font-weight: bold; } /* Alert */
code > span.er { color: #bf0303; text-decoration: underline; } /* Error */
code > span. { color: #1f1c1b; } /* Normal */
</style>

<link rel="stylesheet" href="site_libs/style.css" type="text/css" />

</head>

<body>


<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Anthony A. Boyles</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Portfolio</a>
</li>
<li>
  <a href="../essays/">Essays</a>
</li>
<li>
  <a href="../code.html">Code</a>
</li>
<li>
  <a href="../about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../README.html">Meta</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="content" data-toggle="wy-nav-shift">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<nav id="nav-top" role="navigation" aria-label="top navigation">
    <a role="button" href="#" data-toggle="wy-nav-top"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
</nav>

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="text-muted">Code</span> <span class="text-muted caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All</a></li>
</ul>
</div>

<div id="header">
<h1 class="title">Metabolyze</h1>
</div>


<div id="table-of-contents">
    <h2><a href="#content">Metabolyze</a></h2>
    <div id="text-table-of-contents">
      <ul>
      <li><a href="#inputs">Inputs</a></li>
      <li><a href="#development">Development</a></li>
      <li><a href="#proof-of-concept">Proof-of-Concept</a></li>
      <li><a href="#todos">Todos:</a><ul>
      <li><a href="#links-with-useful-information-about-specific-drugs">Links with useful information about specific drugs</a></li>
      <li><a href="#links-with-useful-information-about-metabolic-rates">Links with useful information about metabolic rates</a></li>
      </ul></li>
      </ul>
    </div>
</div>

<div id="main">
<p>Metabolyze is an idea for an app to analyze metabolism rates of drugs. You input the time and dosage of your favored chemical, and it plots the curve of the drug’s degradation in your bloodstream.</p>
<div id="inputs" class="section level1">
<h1>Inputs</h1>
<ol style="list-style-type: decimal">
<li>Drug, Dosage and Time</li>
<li>Anthropometrics: Height and Weight</li>
<li>Demographics: Age and Gender</li>
</ol>
<p>I doubt that I’ll be able to control for demographic characteristics in any meaningful fashion. Thus far, the pharmacokinetics literature I’ve seen is much to spotty. Many studies of small groups of college-aged men, which is OK for college-aged men, but less informative for the rest of us. Even so, there are some important, known relationships I may want to build against eventually. Speaking of building…</p>
</div>
<div id="development" class="section level1">
<h1>Development</h1>
<ol style="list-style-type: decimal">
<li>Proof-of-concept. That’s basically <a href="#Proof-of-Concept">this document</a>.</li>
<li>Webapp version. I’m going to skip <a href="https://shiny.rstudio.com/">Shiny</a> and go straight to Javascript. However, as this is a learning exercise on multiple fronts, I’ll be using a <a href="https://reactjs.org/">popular but</a> <a href="https://material-ui-next.com/getting-started/installation/">unfamiliar (to me)</a> stack.</li>
<li>Mobile App. Part of the appeal of the aforementioned unfamiliar stack is the <a href="https://facebook.github.io/react-native/">native mobile environment</a>. This should (hopefully) be little more than a mobile-oriented refactoring.</li>
</ol>
</div>
<div id="proof-of-concept" class="section level1">
<h1>Proof-of-Concept</h1>
<p>I drink coffee twice daily: once as soon as I arrive at the office in the morning, and once as soon as I return to it after lunch. I want to view the curve of caffeine I’m metabolizing at any given time. While it appears that there are <a href="https://www.google.com/search?q=Caffeine+Calculator">literally thousands of caffeine calculators</a>, what I’m looking for is both more specific (it shows the volume, mass, or concentration over time, <a href="https://play.google.com/store/apps/details?id=com.cafapppro">like so</a>) and more general (it also does alcohol and other pharmacological substances for which these curves are relatively well-studied).</p>
<p>But to start with, let’s just implement caffeine under ideal circumstances. Assume I drink the entire cup in a single, hot gulp at 9am and 1pm. Let’s also just assume <a href="https://www.ncbi.nlm.nih.gov/pubmed/6832208">the bioavailability of caffeine in coffee is 100%</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&#39;tidyverse&#39;</span>)
<span class="kw">library</span>(<span class="st">&#39;plotly&#39;</span>)

times &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">day =</span> <span class="kw">rep</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">each=</span><span class="dv">96</span>),
  <span class="dt">hour =</span> <span class="kw">rep</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">23</span>, <span class="dt">each=</span><span class="dv">4</span>, <span class="dt">times=</span><span class="dv">7</span>),
  <span class="dt">minute =</span> <span class="kw">rep</span>(<span class="dv">15</span><span class="op">*</span><span class="dv">0</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">24</span>),
  <span class="dt">volume =</span> <span class="dv">0</span>
) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(
    <span class="dt">time =</span> day <span class="op">+</span><span class="st"> </span>hour<span class="op">/</span><span class="dv">24</span> <span class="op">+</span><span class="st"> </span>minute<span class="op">/</span><span class="dv">1440</span>
  )</code></pre></div>
<p>Now, let’s implement a function to compute the residual quantity given a simple exponential decay model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Quantity: Amount; 100mg by default</span>
<span class="co"># Absorption: time during which initial amount is absorbed, bioavailability increases linearly; 1hr by default</span>
<span class="co"># halflife: amount of time required to reduce bioavailability by half. 6hr by default</span>
<span class="co"># returns a vector of length</span>
decay &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">quantity =</span> <span class="dv">100</span>, <span class="dt">halflife =</span> <span class="dv">24</span>, <span class="dt">length =</span> <span class="dv">96</span>) quantity<span class="op">*</span><span class="dv">2</span><span class="op">^</span>(<span class="op">-</span>(<span class="dv">0</span><span class="op">:</span>(length<span class="op">-</span><span class="dv">1</span>))<span class="op">/</span>halflife)</code></pre></div>
<p>Perfect. Now, what’s the curve of my two cups of joe?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">caffeinedecay &lt;-<span class="st"> </span><span class="kw">decay</span>(<span class="dv">125</span>, <span class="dt">length=</span><span class="dv">200</span>)
firstCup &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">36</span>), caffeinedecay, <span class="kw">rep</span>(<span class="dv">0</span>, <span class="kw">nrow</span>(times)<span class="op">-</span><span class="kw">length</span>(caffeinedecay)<span class="op">-</span><span class="dv">36</span>))
secondCup &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">52</span>), caffeinedecay, <span class="kw">rep</span>(<span class="dv">0</span>, <span class="kw">nrow</span>(times)<span class="op">-</span><span class="kw">length</span>(caffeinedecay)<span class="op">-</span><span class="dv">52</span>))
times &lt;-<span class="st"> </span>times <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">volume =</span> firstCup <span class="op">+</span><span class="st"> </span>secondCup)

<span class="kw">plot_ly</span>(times, <span class="dt">x=</span><span class="op">~</span>time, <span class="dt">y=</span><span class="op">~</span>volume, <span class="dt">type=</span><span class="st">&quot;scatter&quot;</span>, <span class="dt">mode=</span><span class="st">&quot;lines&quot;</span>, <span class="dt">line =</span> <span class="kw">list</span>(<span class="dt">shape =</span> <span class="st">&quot;spline&quot;</span>))</code></pre></div>
<div id="541bbc0e23b" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="541bbc0e23b">{"x":{"visdat":{"541b7b3e4748":["function () ","plotlyVisDat"]},"cur_data":"541b7b3e4748","attrs":{"541b7b3e4748":{"x":{},"y":{},"mode":"lines","line":{"shape":"spline"},"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"time"},"yaxis":{"domain":[0,1],"title":"volume"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0,0.0104166666666667,0.0208333333333333,0.03125,0.0416666666666667,0.0520833333333333,0.0625,0.0729166666666667,0.0833333333333333,0.09375,0.104166666666667,0.114583333333333,0.125,0.135416666666667,0.145833333333333,0.15625,0.166666666666667,0.177083333333333,0.1875,0.197916666666667,0.208333333333333,0.21875,0.229166666666667,0.239583333333333,0.25,0.260416666666667,0.270833333333333,0.28125,0.291666666666667,0.302083333333333,0.3125,0.322916666666667,0.333333333333333,0.34375,0.354166666666667,0.364583333333333,0.375,0.385416666666667,0.395833333333333,0.40625,0.416666666666667,0.427083333333333,0.4375,0.447916666666667,0.458333333333333,0.46875,0.479166666666667,0.489583333333333,0.5,0.510416666666667,0.520833333333333,0.53125,0.541666666666667,0.552083333333333,0.5625,0.572916666666667,0.583333333333333,0.59375,0.604166666666667,0.614583333333333,0.625,0.635416666666667,0.645833333333333,0.65625,0.666666666666667,0.677083333333333,0.6875,0.697916666666667,0.708333333333333,0.71875,0.729166666666667,0.739583333333333,0.75,0.760416666666667,0.770833333333333,0.78125,0.791666666666667,0.802083333333333,0.8125,0.822916666666667,0.833333333333333,0.84375,0.854166666666667,0.864583333333333,0.875,0.885416666666667,0.895833333333333,0.90625,0.916666666666667,0.927083333333333,0.9375,0.947916666666667,0.958333333333333,0.96875,0.979166666666667,0.989583333333333,1,1.01041666666667,1.02083333333333,1.03125,1.04166666666667,1.05208333333333,1.0625,1.07291666666667,1.08333333333333,1.09375,1.10416666666667,1.11458333333333,1.125,1.13541666666667,1.14583333333333,1.15625,1.16666666666667,1.17708333333333,1.1875,1.19791666666667,1.20833333333333,1.21875,1.22916666666667,1.23958333333333,1.25,1.26041666666667,1.27083333333333,1.28125,1.29166666666667,1.30208333333333,1.3125,1.32291666666667,1.33333333333333,1.34375,1.35416666666667,1.36458333333333,1.375,1.38541666666667,1.39583333333333,1.40625,1.41666666666667,1.42708333333333,1.4375,1.44791666666667,1.45833333333333,1.46875,1.47916666666667,1.48958333333333,1.5,1.51041666666667,1.52083333333333,1.53125,1.54166666666667,1.55208333333333,1.5625,1.57291666666667,1.58333333333333,1.59375,1.60416666666667,1.61458333333333,1.625,1.63541666666667,1.64583333333333,1.65625,1.66666666666667,1.67708333333333,1.6875,1.69791666666667,1.70833333333333,1.71875,1.72916666666667,1.73958333333333,1.75,1.76041666666667,1.77083333333333,1.78125,1.79166666666667,1.80208333333333,1.8125,1.82291666666667,1.83333333333333,1.84375,1.85416666666667,1.86458333333333,1.875,1.88541666666667,1.89583333333333,1.90625,1.91666666666667,1.92708333333333,1.9375,1.94791666666667,1.95833333333333,1.96875,1.97916666666667,1.98958333333333,2,2.01041666666667,2.02083333333333,2.03125,2.04166666666667,2.05208333333333,2.0625,2.07291666666667,2.08333333333333,2.09375,2.10416666666667,2.11458333333333,2.125,2.13541666666667,2.14583333333333,2.15625,2.16666666666667,2.17708333333333,2.1875,2.19791666666667,2.20833333333333,2.21875,2.22916666666667,2.23958333333333,2.25,2.26041666666667,2.27083333333333,2.28125,2.29166666666667,2.30208333333333,2.3125,2.32291666666667,2.33333333333333,2.34375,2.35416666666667,2.36458333333333,2.375,2.38541666666667,2.39583333333333,2.40625,2.41666666666667,2.42708333333333,2.4375,2.44791666666667,2.45833333333333,2.46875,2.47916666666667,2.48958333333333,2.5,2.51041666666667,2.52083333333333,2.53125,2.54166666666667,2.55208333333333,2.5625,2.57291666666667,2.58333333333333,2.59375,2.60416666666667,2.61458333333333,2.625,2.63541666666667,2.64583333333333,2.65625,2.66666666666667,2.67708333333333,2.6875,2.69791666666667,2.70833333333333,2.71875,2.72916666666667,2.73958333333333,2.75,2.76041666666667,2.77083333333333,2.78125,2.79166666666667,2.80208333333333,2.8125,2.82291666666667,2.83333333333333,2.84375,2.85416666666667,2.86458333333333,2.875,2.88541666666667,2.89583333333333,2.90625,2.91666666666667,2.92708333333333,2.9375,2.94791666666667,2.95833333333333,2.96875,2.97916666666667,2.98958333333333,3,3.01041666666667,3.02083333333333,3.03125,3.04166666666667,3.05208333333333,3.0625,3.07291666666667,3.08333333333333,3.09375,3.10416666666667,3.11458333333333,3.125,3.13541666666667,3.14583333333333,3.15625,3.16666666666667,3.17708333333333,3.1875,3.19791666666667,3.20833333333333,3.21875,3.22916666666667,3.23958333333333,3.25,3.26041666666667,3.27083333333333,3.28125,3.29166666666667,3.30208333333333,3.3125,3.32291666666667,3.33333333333333,3.34375,3.35416666666667,3.36458333333333,3.375,3.38541666666667,3.39583333333333,3.40625,3.41666666666667,3.42708333333333,3.4375,3.44791666666667,3.45833333333333,3.46875,3.47916666666667,3.48958333333333,3.5,3.51041666666667,3.52083333333333,3.53125,3.54166666666667,3.55208333333333,3.5625,3.57291666666667,3.58333333333333,3.59375,3.60416666666667,3.61458333333333,3.625,3.63541666666667,3.64583333333333,3.65625,3.66666666666667,3.67708333333333,3.6875,3.69791666666667,3.70833333333333,3.71875,3.72916666666667,3.73958333333333,3.75,3.76041666666667,3.77083333333333,3.78125,3.79166666666667,3.80208333333333,3.8125,3.82291666666667,3.83333333333333,3.84375,3.85416666666667,3.86458333333333,3.875,3.88541666666667,3.89583333333333,3.90625,3.91666666666667,3.92708333333333,3.9375,3.94791666666667,3.95833333333333,3.96875,3.97916666666667,3.98958333333333,4,4.01041666666667,4.02083333333333,4.03125,4.04166666666667,4.05208333333333,4.0625,4.07291666666667,4.08333333333333,4.09375,4.10416666666667,4.11458333333333,4.125,4.13541666666667,4.14583333333333,4.15625,4.16666666666667,4.17708333333333,4.1875,4.19791666666667,4.20833333333333,4.21875,4.22916666666667,4.23958333333333,4.25,4.26041666666667,4.27083333333333,4.28125,4.29166666666667,4.30208333333333,4.3125,4.32291666666667,4.33333333333333,4.34375,4.35416666666667,4.36458333333333,4.375,4.38541666666667,4.39583333333333,4.40625,4.41666666666667,4.42708333333333,4.4375,4.44791666666667,4.45833333333333,4.46875,4.47916666666667,4.48958333333333,4.5,4.51041666666667,4.52083333333333,4.53125,4.54166666666667,4.55208333333333,4.5625,4.57291666666667,4.58333333333333,4.59375,4.60416666666667,4.61458333333333,4.625,4.63541666666667,4.64583333333333,4.65625,4.66666666666667,4.67708333333333,4.6875,4.69791666666667,4.70833333333333,4.71875,4.72916666666667,4.73958333333333,4.75,4.76041666666667,4.77083333333333,4.78125,4.79166666666667,4.80208333333333,4.8125,4.82291666666667,4.83333333333333,4.84375,4.85416666666667,4.86458333333333,4.875,4.88541666666667,4.89583333333333,4.90625,4.91666666666667,4.92708333333333,4.9375,4.94791666666667,4.95833333333333,4.96875,4.97916666666667,4.98958333333333,5,5.01041666666667,5.02083333333333,5.03125,5.04166666666667,5.05208333333333,5.0625,5.07291666666667,5.08333333333333,5.09375,5.10416666666667,5.11458333333333,5.125,5.13541666666667,5.14583333333333,5.15625,5.16666666666667,5.17708333333333,5.1875,5.19791666666667,5.20833333333333,5.21875,5.22916666666667,5.23958333333333,5.25,5.26041666666667,5.27083333333333,5.28125,5.29166666666667,5.30208333333333,5.3125,5.32291666666667,5.33333333333333,5.34375,5.35416666666667,5.36458333333333,5.375,5.38541666666667,5.39583333333333,5.40625,5.41666666666667,5.42708333333333,5.4375,5.44791666666667,5.45833333333333,5.46875,5.47916666666667,5.48958333333333,5.5,5.51041666666667,5.52083333333333,5.53125,5.54166666666667,5.55208333333333,5.5625,5.57291666666667,5.58333333333333,5.59375,5.60416666666667,5.61458333333333,5.625,5.63541666666667,5.64583333333333,5.65625,5.66666666666667,5.67708333333333,5.6875,5.69791666666667,5.70833333333333,5.71875,5.72916666666667,5.73958333333333,5.75,5.76041666666667,5.77083333333333,5.78125,5.79166666666667,5.80208333333333,5.8125,5.82291666666667,5.83333333333333,5.84375,5.85416666666667,5.86458333333333,5.875,5.88541666666667,5.89583333333333,5.90625,5.91666666666667,5.92708333333333,5.9375,5.94791666666667,5.95833333333333,5.96875,5.97916666666667,5.98958333333333,6,6.01041666666667,6.02083333333333,6.03125,6.04166666666667,6.05208333333333,6.0625,6.07291666666667,6.08333333333333,6.09375,6.10416666666667,6.11458333333333,6.125,6.13541666666667,6.14583333333333,6.15625,6.16666666666667,6.17708333333333,6.1875,6.19791666666667,6.20833333333333,6.21875,6.22916666666667,6.23958333333333,6.25,6.26041666666667,6.27083333333333,6.28125,6.29166666666667,6.30208333333333,6.3125,6.32291666666667,6.33333333333333,6.34375,6.35416666666667,6.36458333333333,6.375,6.38541666666667,6.39583333333333,6.40625,6.41666666666667,6.42708333333333,6.4375,6.44791666666667,6.45833333333333,6.46875,6.47916666666667,6.48958333333333,6.5,6.51041666666667,6.52083333333333,6.53125,6.54166666666667,6.55208333333333,6.5625,6.57291666666667,6.58333333333333,6.59375,6.60416666666667,6.61458333333333,6.625,6.63541666666667,6.64583333333333,6.65625,6.66666666666667,6.67708333333333,6.6875,6.69791666666667,6.70833333333333,6.71875,6.72916666666667,6.73958333333333,6.75,6.76041666666667,6.77083333333333,6.78125,6.79166666666667,6.80208333333333,6.8125,6.82291666666667,6.83333333333333,6.84375,6.85416666666667,6.86458333333333,6.875,6.88541666666667,6.89583333333333,6.90625,6.91666666666667,6.92708333333333,6.9375,6.94791666666667,6.95833333333333,6.96875,6.97916666666667,6.98958333333333],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,125,121.441492644201,117.984289085212,114.625505400584,111.362339767542,108.192070125768,105.112051906714,102.119715827569,99.2125657480125,96.3881765879963,93.6441923047926,90.9783239276367,88.3883476483184,85.8721029661306,83.4274908856272,81.0524721656881,203.74506561843,197.944839100742,192.309733772882,186.835048955101,181.516217786878,176.348803417346,171.32849530417,166.451105617787,161.712565748012,157.108922910097,152.636336847398,148.291076627929,144.06951753209,139.968138029015,135.983516838984,132.112330079472,128.351348492436,124.697434750539,121.147540840066,117.698705518335,114.348051843495,111.092784774644,107.93018884027,104.857625873062,101.872532809215,98.9724195503708,96.1548668864409,93.4175244775505,90.7581088934391,88.1744017086732,85.6642476520851,83.2255528088935,80.8562828740062,78.5544614550483,76.3181684236992,74.1455383139643,72.0347587660448,69.9840690145073,67.9917584194922,66.0561650397362,64.1756742462179,62.3487173752696,60.5737704200332,58.8493527591677,57.1740259217475,55.5463923873219,53.9650944201348,52.4288129365312,50.9362664046074,49.4862097751854,48.0774334432204,46.7087622387752,45.3790544467196,44.0872008543366,42.8321238260426,41.6127764044467,40.4281414370031,39.2772307275242,38.1590842118496,37.0727691569822,36.0173793830224,34.9920345072536,33.9958792097461,33.0280825198681,32.087837123109,31.1743586876348,30.2868852100166,29.4246763795839,28.5870129608738,27.773196193661,26.9825472100674,26.2144064682656,25.4681332023037,24.7431048875927,24.0387167216102,23.3543811193876,22.6895272233598,22.0436004271683,21.4160619130213,20.8063882022234,20.2140707185016,19.6386153637621,19.0795421059248,18.5363845784911,18.0086896915112,17.4960172536268,16.997939604873,16.5140412599341,16.0439185615545,15.5871793438174,15.1434426050083,14.7123381897919,14.2935064804369,13.8865980968305,13.4912736050337,13.1072032341328,12.7340666011518,12.3715524437964,12.0193583608051,11.6771905596938,11.3447636116799,11.0218002135842,10.7080309565106,10.4031941011117,10.1070353592508,9.81930768188104,9.5397710529624,9.26819228924554,9.0043448457556,8.74800862681341,8.49896980243652,8.25702062996703,8.02195928077724,7.79358967190869,7.57172130250415,7.35616909489596,7.14675324021844,6.94329904841524,6.74563680251685,6.55360161706639,6.36703330057592,6.18577622189818,6.00967918040256,5.8385952798469,5.67238180583994,5.51090010679208,5.35401547825532,5.20159705055584,5.05351767962539,4.90965384094052,4.7698855264812,4.63409614462277,4.5021724228778,4.3740043134067,4.24948490121826,4.12851031498351,4.01097964038862,3.89679483595435,3.78586065125207,3.67808454744798,3.57337662010922,3.47164952420762,3.37281840125842,3.2768008085332,3.18351665028796,3.09288811094909,3.00483959020128,2.91929763992345,2.83619090291997,2.75545005339604,2.67700773912766,2.60079852527792,2.5267588398127,2.45482692047026,2.3849427632406,2.31704807231139,2.2510862114389,2.18700215670335,2.12474245060913,2.06425515749176,2.00548982019431,1.94839741797717,1.89293032562604,1.83904227372399,1.78668831005461,1.73582476210381,1.68640920062921,1.6384004042666,1.59175832514398,1.54644405547454,1.50241979510064,1.45964881996173,1.41809545145999,1.37772502669802,1.33850386956383,1.30039926263896,1.26337941990635,1.22741346023513,1.1924713816203,1.15852403615569,1.12554310571945,1.09350107835168,1.06237122530456,1.03212757874588,0.615195825143981,0.597682394191726,0.580667536622422,0.564137059019664,0.548077172026061,0.532474478840458,0.517315964042625,0.50258898273608,0.48828125,0.474380830641409,0.460876129239108,0.447755880471031,0.435009139716963,0.422625273928781,0.410593952760603,0.398905139951441,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"mode":"lines","line":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","shape":"spline"},"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p>Cool. Now, what if I do that daily, instead of just on Monday?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">times &lt;-<span class="st"> </span>times <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">volume =</span> <span class="dv">0</span>)

<span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">0</span><span class="op">:</span><span class="dv">4</span><span class="op">*</span><span class="dv">96</span>){
  firstCup &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">0</span>, i<span class="op">+</span><span class="dv">36</span>), caffeinedecay, <span class="kw">rep</span>(<span class="dv">0</span>, <span class="kw">nrow</span>(times)<span class="op">-</span><span class="kw">length</span>(caffeinedecay)<span class="op">-</span>i<span class="op">-</span><span class="dv">36</span>))
  secondCup &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">0</span>, i<span class="op">+</span><span class="dv">52</span>), caffeinedecay, <span class="kw">rep</span>(<span class="dv">0</span>, <span class="kw">nrow</span>(times)<span class="op">-</span><span class="kw">length</span>(caffeinedecay)<span class="op">-</span>i<span class="op">-</span><span class="dv">52</span>))
  
  times &lt;-<span class="st"> </span>times <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">volume =</span> volume <span class="op">+</span><span class="st"> </span>firstCup <span class="op">+</span><span class="st"> </span>secondCup)
}

<span class="kw">plot_ly</span>(times, <span class="dt">x=</span><span class="op">~</span>time, <span class="dt">y=</span><span class="op">~</span>volume, <span class="dt">type=</span><span class="st">&quot;scatter&quot;</span>, <span class="dt">mode=</span><span class="st">&quot;lines&quot;</span>, <span class="dt">line =</span> <span class="kw">list</span>(<span class="dt">shape =</span> <span class="st">&quot;spline&quot;</span>))</code></pre></div>
<div id="541b20f82750" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="541b20f82750">{"x":{"visdat":{"541b20e5308b":["function () ","plotlyVisDat"]},"cur_data":"541b20e5308b","attrs":{"541b20e5308b":{"x":{},"y":{},"mode":"lines","line":{"shape":"spline"},"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"time"},"yaxis":{"domain":[0,1],"title":"volume"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0,0.0104166666666667,0.0208333333333333,0.03125,0.0416666666666667,0.0520833333333333,0.0625,0.0729166666666667,0.0833333333333333,0.09375,0.104166666666667,0.114583333333333,0.125,0.135416666666667,0.145833333333333,0.15625,0.166666666666667,0.177083333333333,0.1875,0.197916666666667,0.208333333333333,0.21875,0.229166666666667,0.239583333333333,0.25,0.260416666666667,0.270833333333333,0.28125,0.291666666666667,0.302083333333333,0.3125,0.322916666666667,0.333333333333333,0.34375,0.354166666666667,0.364583333333333,0.375,0.385416666666667,0.395833333333333,0.40625,0.416666666666667,0.427083333333333,0.4375,0.447916666666667,0.458333333333333,0.46875,0.479166666666667,0.489583333333333,0.5,0.510416666666667,0.520833333333333,0.53125,0.541666666666667,0.552083333333333,0.5625,0.572916666666667,0.583333333333333,0.59375,0.604166666666667,0.614583333333333,0.625,0.635416666666667,0.645833333333333,0.65625,0.666666666666667,0.677083333333333,0.6875,0.697916666666667,0.708333333333333,0.71875,0.729166666666667,0.739583333333333,0.75,0.760416666666667,0.770833333333333,0.78125,0.791666666666667,0.802083333333333,0.8125,0.822916666666667,0.833333333333333,0.84375,0.854166666666667,0.864583333333333,0.875,0.885416666666667,0.895833333333333,0.90625,0.916666666666667,0.927083333333333,0.9375,0.947916666666667,0.958333333333333,0.96875,0.979166666666667,0.989583333333333,1,1.01041666666667,1.02083333333333,1.03125,1.04166666666667,1.05208333333333,1.0625,1.07291666666667,1.08333333333333,1.09375,1.10416666666667,1.11458333333333,1.125,1.13541666666667,1.14583333333333,1.15625,1.16666666666667,1.17708333333333,1.1875,1.19791666666667,1.20833333333333,1.21875,1.22916666666667,1.23958333333333,1.25,1.26041666666667,1.27083333333333,1.28125,1.29166666666667,1.30208333333333,1.3125,1.32291666666667,1.33333333333333,1.34375,1.35416666666667,1.36458333333333,1.375,1.38541666666667,1.39583333333333,1.40625,1.41666666666667,1.42708333333333,1.4375,1.44791666666667,1.45833333333333,1.46875,1.47916666666667,1.48958333333333,1.5,1.51041666666667,1.52083333333333,1.53125,1.54166666666667,1.55208333333333,1.5625,1.57291666666667,1.58333333333333,1.59375,1.60416666666667,1.61458333333333,1.625,1.63541666666667,1.64583333333333,1.65625,1.66666666666667,1.67708333333333,1.6875,1.69791666666667,1.70833333333333,1.71875,1.72916666666667,1.73958333333333,1.75,1.76041666666667,1.77083333333333,1.78125,1.79166666666667,1.80208333333333,1.8125,1.82291666666667,1.83333333333333,1.84375,1.85416666666667,1.86458333333333,1.875,1.88541666666667,1.89583333333333,1.90625,1.91666666666667,1.92708333333333,1.9375,1.94791666666667,1.95833333333333,1.96875,1.97916666666667,1.98958333333333,2,2.01041666666667,2.02083333333333,2.03125,2.04166666666667,2.05208333333333,2.0625,2.07291666666667,2.08333333333333,2.09375,2.10416666666667,2.11458333333333,2.125,2.13541666666667,2.14583333333333,2.15625,2.16666666666667,2.17708333333333,2.1875,2.19791666666667,2.20833333333333,2.21875,2.22916666666667,2.23958333333333,2.25,2.26041666666667,2.27083333333333,2.28125,2.29166666666667,2.30208333333333,2.3125,2.32291666666667,2.33333333333333,2.34375,2.35416666666667,2.36458333333333,2.375,2.38541666666667,2.39583333333333,2.40625,2.41666666666667,2.42708333333333,2.4375,2.44791666666667,2.45833333333333,2.46875,2.47916666666667,2.48958333333333,2.5,2.51041666666667,2.52083333333333,2.53125,2.54166666666667,2.55208333333333,2.5625,2.57291666666667,2.58333333333333,2.59375,2.60416666666667,2.61458333333333,2.625,2.63541666666667,2.64583333333333,2.65625,2.66666666666667,2.67708333333333,2.6875,2.69791666666667,2.70833333333333,2.71875,2.72916666666667,2.73958333333333,2.75,2.76041666666667,2.77083333333333,2.78125,2.79166666666667,2.80208333333333,2.8125,2.82291666666667,2.83333333333333,2.84375,2.85416666666667,2.86458333333333,2.875,2.88541666666667,2.89583333333333,2.90625,2.91666666666667,2.92708333333333,2.9375,2.94791666666667,2.95833333333333,2.96875,2.97916666666667,2.98958333333333,3,3.01041666666667,3.02083333333333,3.03125,3.04166666666667,3.05208333333333,3.0625,3.07291666666667,3.08333333333333,3.09375,3.10416666666667,3.11458333333333,3.125,3.13541666666667,3.14583333333333,3.15625,3.16666666666667,3.17708333333333,3.1875,3.19791666666667,3.20833333333333,3.21875,3.22916666666667,3.23958333333333,3.25,3.26041666666667,3.27083333333333,3.28125,3.29166666666667,3.30208333333333,3.3125,3.32291666666667,3.33333333333333,3.34375,3.35416666666667,3.36458333333333,3.375,3.38541666666667,3.39583333333333,3.40625,3.41666666666667,3.42708333333333,3.4375,3.44791666666667,3.45833333333333,3.46875,3.47916666666667,3.48958333333333,3.5,3.51041666666667,3.52083333333333,3.53125,3.54166666666667,3.55208333333333,3.5625,3.57291666666667,3.58333333333333,3.59375,3.60416666666667,3.61458333333333,3.625,3.63541666666667,3.64583333333333,3.65625,3.66666666666667,3.67708333333333,3.6875,3.69791666666667,3.70833333333333,3.71875,3.72916666666667,3.73958333333333,3.75,3.76041666666667,3.77083333333333,3.78125,3.79166666666667,3.80208333333333,3.8125,3.82291666666667,3.83333333333333,3.84375,3.85416666666667,3.86458333333333,3.875,3.88541666666667,3.89583333333333,3.90625,3.91666666666667,3.92708333333333,3.9375,3.94791666666667,3.95833333333333,3.96875,3.97916666666667,3.98958333333333,4,4.01041666666667,4.02083333333333,4.03125,4.04166666666667,4.05208333333333,4.0625,4.07291666666667,4.08333333333333,4.09375,4.10416666666667,4.11458333333333,4.125,4.13541666666667,4.14583333333333,4.15625,4.16666666666667,4.17708333333333,4.1875,4.19791666666667,4.20833333333333,4.21875,4.22916666666667,4.23958333333333,4.25,4.26041666666667,4.27083333333333,4.28125,4.29166666666667,4.30208333333333,4.3125,4.32291666666667,4.33333333333333,4.34375,4.35416666666667,4.36458333333333,4.375,4.38541666666667,4.39583333333333,4.40625,4.41666666666667,4.42708333333333,4.4375,4.44791666666667,4.45833333333333,4.46875,4.47916666666667,4.48958333333333,4.5,4.51041666666667,4.52083333333333,4.53125,4.54166666666667,4.55208333333333,4.5625,4.57291666666667,4.58333333333333,4.59375,4.60416666666667,4.61458333333333,4.625,4.63541666666667,4.64583333333333,4.65625,4.66666666666667,4.67708333333333,4.6875,4.69791666666667,4.70833333333333,4.71875,4.72916666666667,4.73958333333333,4.75,4.76041666666667,4.77083333333333,4.78125,4.79166666666667,4.80208333333333,4.8125,4.82291666666667,4.83333333333333,4.84375,4.85416666666667,4.86458333333333,4.875,4.88541666666667,4.89583333333333,4.90625,4.91666666666667,4.92708333333333,4.9375,4.94791666666667,4.95833333333333,4.96875,4.97916666666667,4.98958333333333,5,5.01041666666667,5.02083333333333,5.03125,5.04166666666667,5.05208333333333,5.0625,5.07291666666667,5.08333333333333,5.09375,5.10416666666667,5.11458333333333,5.125,5.13541666666667,5.14583333333333,5.15625,5.16666666666667,5.17708333333333,5.1875,5.19791666666667,5.20833333333333,5.21875,5.22916666666667,5.23958333333333,5.25,5.26041666666667,5.27083333333333,5.28125,5.29166666666667,5.30208333333333,5.3125,5.32291666666667,5.33333333333333,5.34375,5.35416666666667,5.36458333333333,5.375,5.38541666666667,5.39583333333333,5.40625,5.41666666666667,5.42708333333333,5.4375,5.44791666666667,5.45833333333333,5.46875,5.47916666666667,5.48958333333333,5.5,5.51041666666667,5.52083333333333,5.53125,5.54166666666667,5.55208333333333,5.5625,5.57291666666667,5.58333333333333,5.59375,5.60416666666667,5.61458333333333,5.625,5.63541666666667,5.64583333333333,5.65625,5.66666666666667,5.67708333333333,5.6875,5.69791666666667,5.70833333333333,5.71875,5.72916666666667,5.73958333333333,5.75,5.76041666666667,5.77083333333333,5.78125,5.79166666666667,5.80208333333333,5.8125,5.82291666666667,5.83333333333333,5.84375,5.85416666666667,5.86458333333333,5.875,5.88541666666667,5.89583333333333,5.90625,5.91666666666667,5.92708333333333,5.9375,5.94791666666667,5.95833333333333,5.96875,5.97916666666667,5.98958333333333,6,6.01041666666667,6.02083333333333,6.03125,6.04166666666667,6.05208333333333,6.0625,6.07291666666667,6.08333333333333,6.09375,6.10416666666667,6.11458333333333,6.125,6.13541666666667,6.14583333333333,6.15625,6.16666666666667,6.17708333333333,6.1875,6.19791666666667,6.20833333333333,6.21875,6.22916666666667,6.23958333333333,6.25,6.26041666666667,6.27083333333333,6.28125,6.29166666666667,6.30208333333333,6.3125,6.32291666666667,6.33333333333333,6.34375,6.35416666666667,6.36458333333333,6.375,6.38541666666667,6.39583333333333,6.40625,6.41666666666667,6.42708333333333,6.4375,6.44791666666667,6.45833333333333,6.46875,6.47916666666667,6.48958333333333,6.5,6.51041666666667,6.52083333333333,6.53125,6.54166666666667,6.55208333333333,6.5625,6.57291666666667,6.58333333333333,6.59375,6.60416666666667,6.61458333333333,6.625,6.63541666666667,6.64583333333333,6.65625,6.66666666666667,6.67708333333333,6.6875,6.69791666666667,6.70833333333333,6.71875,6.72916666666667,6.73958333333333,6.75,6.76041666666667,6.77083333333333,6.78125,6.79166666666667,6.80208333333333,6.8125,6.82291666666667,6.83333333333333,6.84375,6.85416666666667,6.86458333333333,6.875,6.88541666666667,6.89583333333333,6.90625,6.91666666666667,6.92708333333333,6.9375,6.94791666666667,6.95833333333333,6.96875,6.97916666666667,6.98958333333333],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,125,121.441492644201,117.984289085212,114.625505400584,111.362339767542,108.192070125768,105.112051906714,102.119715827569,99.2125657480125,96.3881765879963,93.6441923047926,90.9783239276367,88.3883476483184,85.8721029661306,83.4274908856272,81.0524721656881,203.74506561843,197.944839100742,192.309733772882,186.835048955101,181.516217786878,176.348803417346,171.32849530417,166.451105617787,161.712565748012,157.108922910097,152.636336847398,148.291076627929,144.06951753209,139.968138029015,135.983516838984,132.112330079472,128.351348492436,124.697434750539,121.147540840066,117.698705518335,114.348051843495,111.092784774644,107.93018884027,104.857625873062,101.872532809215,98.9724195503708,96.1548668864409,93.4175244775505,90.7581088934391,88.1744017086732,85.6642476520851,83.2255528088935,80.8562828740062,78.5544614550483,76.3181684236992,74.1455383139643,72.0347587660448,69.9840690145073,67.9917584194922,66.0561650397362,64.1756742462179,62.3487173752696,60.5737704200332,58.8493527591677,57.1740259217475,55.5463923873219,53.9650944201348,52.4288129365312,50.9362664046074,49.4862097751854,48.0774334432204,46.7087622387752,45.3790544467196,44.0872008543366,42.8321238260426,41.6127764044467,40.4281414370031,39.2772307275242,38.1590842118496,37.0727691569822,36.0173793830224,34.9920345072536,33.9958792097461,33.0280825198681,32.087837123109,31.1743586876348,30.2868852100166,29.4246763795839,28.5870129608738,27.773196193661,26.9825472100674,26.2144064682656,25.4681332023037,24.7431048875927,24.0387167216102,23.3543811193876,22.6895272233598,22.0436004271683,21.4160619130213,20.8063882022234,145.214070718502,141.080108007963,137.063831191137,133.161889979075,129.371029459054,125.688087379395,122.109991511587,118.633757087503,115.256484309567,111.975355931814,108.787634909801,105.690662117429,102.681854128755,99.7587010629611,96.9187644906608,94.1596753998209,216.479132219581,210.316391544538,204.329092133687,198.512239514795,192.860981398558,187.370603630931,182.036526260681,176.854299718899,171.819601107263,166.928230591978,162.176107900361,157.559268917174,153.073862377845,148.716146655828,144.482486641421,140.36935070944,136.373307773213,132.491024422448,128.719262142571,125.054874613231,121.494805083713,118.036083823059,114.675825642786,111.411227490129,108.239566109791,105.158195772269,102.164546066843,99.2561197573974,96.4304906992791,93.6853018154653,91.0182631303405,88.4271498594493,85.9098005536316,83.4641152959888,81.0880539501804,78.7796344585871,76.5369311889226,74.358073327914,72.2412433207104,70.1846753547198,68.1866538866065,66.2455122112239,64.3596310712853,62.5274373066157,60.7474025418567,59.0180419115296,57.3379128213932,55.7056137450643,54.1197830548954,52.5790978861345,51.0822730334217,49.6280598786987,48.2152453496395,46.8426509077327,45.5091315651702,44.2135749297247,42.9549002768158,41.7320576479944,40.5440269750902,39.3898172292936,38.2684655944613,37.179036663957,36.1206216603552,35.0923376773599,34.0933269433033,33.1227561056119,32.1798155356426,31.2637186533078,30.3737012709284,29.5090209557648,28.6689564106966,27.8528068725322,27.0598915274477,26.2895489430673,25.5411365167109,24.8140299393493,24.1076226748198,23.4213254538663,22.7545657825851,22.1067874648623,146.477450138408,142.307521468198,138.256302572757,134.320414015231,130.496572564773,126.781588457746,123.172362736892,119.665884666249,115.871680134711,112.573038326005,109.368302446423,106.254799176448,103.229931300781,100.291175541802,97.4360804547035,94.662264382557,216.967413469581,210.790772375179,204.789968262926,198.959995395266,193.295990538275,187.793228904859,182.447120213442,177.25320485885,171.819601107263,166.928230591978,162.176107900361,157.559268917174,153.073862377845,148.716146655828,144.482486641421,140.36935070944,136.373307773213,132.491024422448,128.719262142571,125.054874613231,121.494805083713,118.036083823059,114.675825642786,111.411227490129,108.239566109791,105.158195772269,102.164546066843,99.2561197573974,96.4304906992791,93.6853018154653,91.0182631303405,88.4271498594493,85.9098005536316,83.4641152959888,81.0880539501804,78.7796344585871,76.5369311889226,74.358073327914,72.2412433207104,70.1846753547198,68.1866538866065,66.2455122112239,64.3596310712853,62.5274373066157,60.7474025418567,59.0180419115296,57.3379128213932,55.7056137450643,54.1197830548954,52.5790978861345,51.0822730334217,49.6280598786987,48.2152453496395,46.8426509077327,45.5091315651702,44.2135749297247,42.9549002768158,41.7320576479944,40.5440269750902,39.3898172292936,38.2684655944613,37.179036663957,36.1206216603552,35.0923376773599,34.0933269433033,33.1227561056119,32.1798155356426,31.2637186533078,30.3737012709284,29.5090209557648,28.6689564106966,27.8528068725322,27.0598915274477,26.2895489430673,25.5411365167109,24.8140299393493,24.1076226748198,23.4213254538663,22.7545657825851,22.1067874648623,146.477450138408,142.307521468198,138.256302572757,134.320414015231,130.496572564773,126.781588457746,123.172362736892,119.665884666249,115.871680134711,112.573038326005,109.368302446423,106.254799176448,103.229931300781,100.291175541802,97.4360804547035,94.662264382557,216.967413469581,210.790772375179,204.789968262926,198.959995395266,193.295990538275,187.793228904859,182.447120213442,177.25320485885,171.819601107263,166.928230591978,162.176107900361,157.559268917174,153.073862377845,148.716146655828,144.482486641421,140.36935070944,136.373307773213,132.491024422448,128.719262142571,125.054874613231,121.494805083713,118.036083823059,114.675825642786,111.411227490129,108.239566109791,105.158195772269,102.164546066843,99.2561197573974,96.4304906992791,93.6853018154653,91.0182631303405,88.4271498594493,85.9098005536316,83.4641152959888,81.0880539501804,78.7796344585871,76.5369311889226,74.358073327914,72.2412433207104,70.1846753547198,68.1866538866065,66.2455122112239,64.3596310712853,62.5274373066157,60.7474025418567,59.0180419115296,57.3379128213932,55.7056137450643,54.1197830548954,52.5790978861345,51.0822730334217,49.6280598786987,48.2152453496395,46.8426509077327,45.5091315651702,44.2135749297247,42.9549002768158,41.7320576479944,40.5440269750902,39.3898172292936,38.2684655944613,37.179036663957,36.1206216603552,35.0923376773599,34.0933269433033,33.1227561056119,32.1798155356426,31.2637186533078,30.3737012709284,29.5090209557648,28.6689564106966,27.8528068725322,27.0598915274477,26.2895489430673,25.5411365167109,24.8140299393493,24.1076226748198,23.4213254538663,22.7545657825851,22.1067874648623,146.477450138408,142.307521468198,138.256302572757,134.320414015231,130.496572564773,126.781588457746,123.172362736892,119.665884666249,115.871680134711,112.573038326005,109.368302446423,106.254799176448,103.229931300781,100.291175541802,97.4360804547035,94.662264382557,216.967413469581,210.790772375179,204.789968262926,198.959995395266,193.295990538275,187.793228904859,182.447120213442,177.25320485885,171.819601107263,166.928230591978,162.176107900361,157.559268917174,153.073862377845,148.716146655828,144.482486641421,140.36935070944,136.373307773213,132.491024422448,128.719262142571,125.054874613231,121.494805083713,118.036083823059,114.675825642786,111.411227490129,108.239566109791,105.158195772269,102.164546066843,99.2561197573974,96.4304906992791,93.6853018154653,91.0182631303405,88.4271498594493,85.9098005536316,83.4641152959888,81.0880539501804,78.7796344585871,76.5369311889226,74.358073327914,72.2412433207104,70.1846753547198,68.1866538866065,66.2455122112239,64.3596310712853,62.5274373066157,60.7474025418567,59.0180419115296,57.3379128213932,55.7056137450643,54.1197830548954,52.5790978861345,51.0822730334217,49.6280598786987,48.2152453496395,46.8426509077327,45.5091315651702,44.2135749297247,42.9549002768158,41.7320576479944,40.5440269750902,39.3898172292936,38.2684655944613,37.179036663957,36.1206216603552,35.0923376773599,34.0933269433033,33.1227561056119,32.1798155356426,31.2637186533078,30.3737012709284,29.5090209557648,28.6689564106966,27.8528068725322,27.0598915274477,26.2895489430673,25.5411365167109,24.8140299393493,24.1076226748198,23.4213254538663,22.7545657825851,22.1067874648623,21.4774501384079,20.8660288239972,20.2720134875451,19.6949086146468,19.1342327972307,18.5895183319785,18.0603108301776,17.5461688386799,16.6591143866985,16.1848617380091,15.7241101416307,15.2764752488116,14.8415836524629,14.4190725756709,14.0085895690763,13.6097922168689,13.2223478511518,12.8459332744378,12.4802344900442,12.1249464401648,11.7797727513969,11.4444254875129,11.1186249092712,10.8020992410631,10.1070353592508,9.81930768188104,9.5397710529624,9.26819228924554,9.0043448457556,8.74800862681341,8.49896980243652,8.25702062996703,8.02195928077724,7.79358967190869,7.57172130250415,7.35616909489596,7.14675324021844,6.94329904841524,6.74563680251685,6.55360161706639,6.36703330057592,6.18577622189818,6.00967918040256,5.8385952798469,5.67238180583994,5.51090010679208,5.35401547825532,5.20159705055584,5.05351767962539,4.90965384094052,4.7698855264812,4.63409614462277,4.5021724228778,4.3740043134067,4.24948490121826,4.12851031498351,4.01097964038862,3.89679483595435,3.78586065125207,3.67808454744798,3.57337662010922,3.47164952420762,3.37281840125842,3.2768008085332,3.18351665028796,3.09288811094909,3.00483959020128,2.91929763992345,2.83619090291997,2.75545005339604,2.67700773912766,2.60079852527792,2.5267588398127,2.45482692047026,2.3849427632406,2.31704807231139,2.2510862114389,2.18700215670335,2.12474245060913,2.06425515749176,2.00548982019431,1.94839741797717,1.89293032562604,1.83904227372399,1.78668831005461,1.73582476210381,1.68640920062921,1.6384004042666,1.59175832514398,1.54644405547454,1.50241979510064,1.45964881996173,1.41809545145999,1.37772502669802,1.33850386956383,1.30039926263896,1.26337941990635,1.22741346023513,1.1924713816203,1.15852403615569,1.12554310571945,1.09350107835168,1.06237122530456,1.03212757874588,0.615195825143981,0.597682394191726,0.580667536622422,0.564137059019664,0.548077172026061,0.532474478840458,0.517315964042625,0.50258898273608,0.48828125,0.474380830641409,0.460876129239108,0.447755880471031,0.435009139716963,0.422625273928781,0.410593952760603,0.398905139951441,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"mode":"lines","line":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","shape":"spline"},"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p>Excellent! On Monday I run a little low, but I hit (and maintain) an effectively stable equilibrium by Tuesday. This is partly due to cheating on my part (note that the decay length is only 200, rather than the full remaining length of the week).</p>
<p>I could continue building out features here (<a href="https://en.wikipedia.org/wiki/Onset_of_action">uptake delay</a> is an obvious next step), but it would be frustration without a purpose. R and Javascript are radically different languages, and where I can see easy solutions in Javascript, I see only headaches in R. Granted, I started in R to document this process, and iron out the epistemic tangles that would become javascript headaches. To which I can say “mischeif managed.” On to <a href="#development">development</a> stage 2!</p>
</div>
<div id="todos" class="section level1">
<h1>Todos:</h1>
<p>Collect data on substances’</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Onset_of_action">Onset of Actions</a></li>
<li><a href="https://en.wikipedia.org/wiki/Mean_residence_time">Mean Residence Times</a></li>
<li><a href="https://en.wikipedia.org/wiki/Effective_dose_(pharmacology)">ED50</a></li>
<li>[ED95]</li>
<li><a href="https://en.wikipedia.org/wiki/Median_lethal_dose">LD50</a></li>
</ul>
<div id="links-with-useful-information-about-specific-drugs" class="section level2">
<h2>Links with useful information about specific drugs</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Caffeine#Pharmacokinetics">Caffeine</a></li>
<li><a href="https://en.wikipedia.org/wiki/Alcohol_(drug)#Pharmacokinetics">Ethanol</a></li>
<li><a href="https://www.erowid.org/plants/cannabis/cannabis_effects.shtml">Sketchy site with ballparks on marajuana</a></li>
</ul>
</div>
<div id="links-with-useful-information-about-metabolic-rates" class="section level2">
<h2>Links with useful information about metabolic rates</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Pharmacokinetics" class="uri">https://en.wikipedia.org/wiki/Pharmacokinetics</a></li>
<li><a href="https://en.wikipedia.org/wiki/Biological_half-life" class="uri">https://en.wikipedia.org/wiki/Biological_half-life</a></li>
<li><a href="https://en.wikipedia.org/wiki/Bioavailability" class="uri">https://en.wikipedia.org/wiki/Bioavailability</a></li>
<li><a href="https://en.wikipedia.org/wiki/ADME" class="uri">https://en.wikipedia.org/wiki/ADME</a></li>
<li><a href="https://www.drugbank.ca/drugs/DB00201#pharmacology">DrugBank</a> - has a bunch of possibly useful information</li>
</ul>
</div>
</div>
</div>


</div>

<div id="postamble" data-toggle="wy-nav-shift" class="status">
</div>


<script>
$(document).ready(function () {
 	  });
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
